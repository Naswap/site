<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WHOIS</title>
  <link rel="stylesheet" href="css/whois.css" />
</head>
<body>
  <header>
<a href="https://nassrmualla.wap.sh">ุฑุฌูุน</a>
  <h1>Whois Tool</h1>
</header>

<div class="whois-card">
  <h2>๐ ุฃุฏุงุฉ Whois Tool</h2>
  <ul>
    <li>ุชููุฑ ูู ูุนูููุงุช ูุงููุฉ ุญูู ุฃู ูุทุงู (Domain) ุชููู ุจุฅุฏุฎุงูู.</li>
    <li>ุชุนุฑุถ ุจูุงูุงุช ุชุณุฌูู ุงููุทุงู ูุชุงุฑูุฎ ุฅูุดุงุฆู ูุงูุชูุงุฆู.</li>
    <li>ุชูุดู ุงูุฌูุฉ ุงููุณุฌูุฉ ูููุทุงู ููุฒูุฏ ุงูุฎุฏูุฉ (Registrar).</li>
    <li>ุชุนุฑุถ ุฃุณูุงุก ุฎูุงุฏู DNS ุงููุณุชุฎุฏูุฉ ูู ูุจู ุงููููุน.</li>
    <li>ุชููุฏ ูู ุงูุชุญูู ูู ูุตุฏุงููุฉ ุงูููุงูุน ูุจู ุงูุชุนุงูู ูุนูุง.</li>
    <li>ุชุณุชุฎุฏู ุฎุฏูุฉ API ููุซููุฉ ูุฌูุจ ุงูุจูุงูุงุช ูู ูุตุงุฏุฑูุง.</li>
    <li>ุชููุฑ ุฎูุงุฑ ูุณุฎ ุงููุชุงุฆุฌ ุจุณูููุฉ ูููุดุงุฑูุฉ ุฃู ุงูุญูุธ.</li>
  </ul>
</div>


  <!-- ูููุฐุฌ ุงูุงุณุชุนูุงู -->
  <div class="container">
    <input type="text" id="domainInput" placeholder="ุฃุฏุฎู ุงุณู ุงููุทุงู (example.com)">
    <button onclick="showPopup()">๐ ุงุณุชุนูุงู</button>
  </div>

  <!-- ูุงูุฐุฉ ููุจุซูุฉ -->
  <div class="overlay" id="overlay"></div>
  <div class="popup" id="popup">
    <h2>๐ ูุชุงุฆุฌ WHOIS</h2>
    <div class="whois-info" id="whoisData">ุฌุงุฑู ุงูุชุญููู...</div>
    <button class="copy-btn" onclick="copyResults()">๐ ูุณุฎ ุงููุชุงุฆุฌ</button>
    <button class="close-btn" onclick="closePopup()">โ ุฅุบูุงู</button>
  </div>

  <script>
    async function showPopup() {
      const domain = document.getElementById("domainInput").value.trim();
      if (!domain) return alert("ูุฑุฌู ุฅุฏุฎุงู ุงุณู ุงููุทุงู");

      document.getElementById("whoisData").innerHTML = "โณ ุฌุงุฑู ุฌูุจ ุงูุจูุงูุงุช...";
      document.getElementById("popup").style.display = "block";
      document.getElementById("overlay").style.display = "block";

      try {
        const response = await fetch(`https://api.api-ninjas.com/v1/whois?domain=${domain}`, {
          headers: { 'X-Api-Key': '4TeM9K4bL5izQEwQs7GOWA==VA8KQPg4mspIl9ww' }
        });

        if (!response.ok) throw new Error("ูุดู ูู ุฌูุจ ุงูุจูุงูุงุช");

        const data = await response.json();

        document.getElementById("whoisData").innerHTML = `
          <p>๐ <strong>ุงููุทุงู:</strong> ${data.domain_name || domain}</p>
          <p>๐๏ธ <strong>ุชุงุฑูุฎ ุงูุชุณุฌูู:</strong> ${data.creation_date || "ุบูุฑ ูุชููุฑ"}</p>
          <p>โณ <strong>ุชุงุฑูุฎ ุงูุงูุชูุงุก:</strong> ${data.expiration_date || "ุบูุฑ ูุชููุฑ"}</p>
          <p>๐ข <strong>ุงูุฌูุฉ ุงููุณุฌูุฉ:</strong> ${data.registrar || "ุบูุฑ ูุชููุฑ"}</p>
          <p>๐งโ๐ผ <strong>ุงููุงูู:</strong> ${data.registrant_name || "ูุญุฌูุจ"}</p>
          <p>๐ง <strong>ุงูุจุฑูุฏ:</strong> ${data.registrant_email || "ูุญุฌูุจ"}</p>
          <p>๐ฅ๏ธ <strong>DNS:</strong> ${data.name_servers ? data.name_servers.join("<br>") : "ุบูุฑ ูุชููุฑ"}</p>
          <p>๐ <strong>ุงูุญุงูุฉ:</strong> ${data.status || "ุบูุฑ ูุชููุฑ"}</p>
        `;
      } catch (error) {
        document.getElementById("whoisData").innerHTML = `<p>โ ูุดู ูู ุชุญููู ุงูุจูุงูุงุช. ุชุฃูุฏ ูู ุงุณู ุงููุทุงู ุฃู ุงูููุชุงุญ.</p>`;
      }
    }

    function closePopup() {
      document.getElementById("popup").style.display = "none";
      document.getElementById("overlay").style.display = "none";
    }

    function copyResults() {
      const text = document.getElementById("whoisData").innerText;
      navigator.clipboard.writeText(text).then(() => {
        alert("โ ุชู ูุณุฎ ุงููุชุงุฆุฌ");
      }).catch(() => {
        alert("โ ูุดู ุงููุณุฎ");
      });
    }
  </script>

</body>
</html>
